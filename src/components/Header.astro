---
import Link from "./Link.astro"
import SearchForm from "./SearchForm.astro"
import Navigation from "./Navigation.astro"
import Burger from "./Burger.astro"
import Menu from "./Menu.astro"
---

<header class="header">
    <div class="header__container">
        <div class="header__container-wrapper">
            <div class="header__wrapper">
                <a class="header__logo" href="#">
                    <img src="/img/logo.svg" alt="" />
                </a>
                <SearchForm />
            </div>
            <div class="header__contacts">
                <Link href="example@yandex.ru" icon="mail">example@yandex.ru</Link>
                <Link href="+79001000000">+7 (900) 100-00-00</Link>
            </div>
            <Burger />
        </div>
        <Navigation />
    </div>
</header>
<Menu />
<style is:global lang="scss">
    .header {
        @include section;
        position: fixed;
        width: 100%;
        top: 0;
        z-index: 10;
        padding-bottom: 30px;
        transition: all $transition;
        &--scroll {
            background-color: #281d15;
        }
        &__container {
            grid-area: center;
            &-wrapper {
                display: flex;
                justify-content: space-between;
                align-items: center;
                padding-top: 30px;
                padding-bottom: 30px;
            }
        }
        &__logo {
            width: 130px;
            height: 36px;
            img {
                width: 100%;
                height: 100%;
                object-fit: contain;
            }
        }
        &__wrapper {
            display: flex;
            align-items: center;
            gap: 30px;
        }
        &__contacts {
            display: flex;
            align-items: center;
            gap: 42px;
            font-weight: 700;
            font-size: 18px;
            &-mail {
                display: flex;
                align-items: center;
                color: white;
                gap: 8px;
            }
            &-phone {
                display: flex;
                color: white;
                align-items: center;
                gap: 8px;
            }
        }
    }
    @include laptop {
        .header {
            background-color: #281d15;
            padding-bottom: 0;
            .link {
                display: none;
            }
            &__container {
                &-wrapper {
                    padding-top: 20px;
                    padding-bottom: 20px;
                }
            }
        }
    }
</style>
<script>
    if (document.querySelector(".header")) {
        window.addEventListener("scroll", function () {
            const header = document.querySelector(".header")
            const scrollTop = window.pageYOffset || document.documentElement.scrollTop

            if (scrollTop > 0) {
                header?.classList.add("header--scroll")
            } else {
                header?.classList.remove("header--scroll")
            }
        })
    }
</script>
